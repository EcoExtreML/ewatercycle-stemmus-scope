# eWaterCycle plugin for STEMMUS_SCOPE

STEMMUS_SCOPE plugin for [eWatercycle](https://ewatercycle.readthedocs.io/).

The STEMMUS_SCOPE documentation is available at https://ecoextreml.github.io/STEMMUS_SCOPE/

## Installation

Install this package alongside your eWaterCycle installation

```console
pip install ewatercycle-stemmus-scope
```

Then STEMMUS_SCOPE becomes available as one of the eWaterCycle models

```python
from ewatercycle.models import StemmusScope
```

## Input data

STEMMUS_SCOPE requires a large amount of input data. 
[An example dataset is available on Zenodo](https://zenodo.org/records/10566827).
Forcing data can also be generated by [PyStemmusScope](https://github.com/EcoExtreML/STEMMUS_SCOPE_Processing).

However, to use either for the eWaterCycle plugin you will have to make a small modifications to the configuration file.
The `InputPath` path should be *relative to the config file*, not absolute!

For example:
```
InputPath=site_A/
StartTime=2010-05-01T00:00
EndTime=2010-05-02T01:30
...
```

Note that the config file will have more entries.
The `WorkDir` and `OutputPath` entries will be managed by this plugin.
Any other entries are not relevant for the model, and only used by PyStemmusScope.
These can be set to any value, such as `.`.

You can now define the eWaterCycle parameterset as:

```py
from ewatercycle.base.parameter_set import ParameterSet
from pathlib import Path

parameters = ParameterSet(
    name="STEMMUS_SCOPE-site_A",
    directory=Path("/data/parameters/stemmus_scope_data/"),
    config=Path("config_site_A.txt"),
    target_model="stemmusscope",
    supported_model_versions={"1.6.1", },
)
```

## License

`ewatercycle-stemmus-scope` is distributed under the terms of the [Apache-2.0](https://spdx.org/licenses/Apache-2.0.html) license.
